---
id: meta-transactions
title: 메타 트랜잭션
sidebar_label: 개요
description: 메타 트랜잭션과 이를 사용하는 방법에 대해 알아봅니다.
keywords:
  - docs
  - 폴리곤
  - matic
  - 트랜잭션
  - 메타 트랜잭션
  - gas 무료
image: https://matic.network/banners/matic-network-16x9.png
slug: meta-transactions
---

일일 스마트 컨트랙트 호출은 하루에 약 250만에서 300만 건에 달하는 최고치를 기록하고 있습니다. DApp은 그 효용을 깨닫기 시작했지만 가스 수수료로 인해 자신의 성공이나 다른 사람들의 성공의 희생자가 되고 있습니다. 말할 것도 없이, 사용자의 온보딩 장애물과 현재 UX의 문제는 쉽게 해결할 수 없습니다.

## 스마트 컨트랙트 서비스

설계상 스마트 컨트랙트는 네트워크의 컴퓨터 리소스를 사용하여 컨트랙트의 논리를 서비스하기 위해 거래 수수료가 지불될 때 실행되는 결정론적 상태 머신입니다. 이것은 이더리움(및 폴리곤)의 가스 계량 모델에 의해 수행됩니다.

## 거래 현황

이더리움(및 다른 블록체인도 마찬가지)의 이 전통적인 거래 모델에는 한계가 있습니다. 일반적인 제한 사항은 가스 수수료를 지불할 수단이 없는 사용자입니다 기본적으로, 트랜잭션을 보낸 사람은 이러한 행동이 결합되어 지불자로서 역할을 하므로, 사용자가 거래를 생성하고 보내려고 하면, 관련 가스 수수료를 지불해야 합니다 마찬가지로, 사용자가 dApp을 구축, 상호 작용 또는 실행하는 경우 사용자는 가스를 지불해야 합니다

일반 사용자가 애플리케이션과 상호 작용하기 위해 암호화폐를 구매하고 가스 수수료를 지불할 것으로 기대하는 것은 비현실적입니다 이 문제를 해결하기 위해 할 수 있는 일은 거래 발신인을 지불인으로 분리하여 거래 실행을 확장하고 원활한 거래 경험을 시작할 수 있는 기회를 제공하는 것입니다

직접 트랜잭션을 실행하는 대신 가스를 처리하는 미들웨어(제3자를 통해)가 존재합니다. 이것이 메타 트랜잭션이 들어오는 곳입니다.

## 메타 트랜잭션이란 무엇인가?

메타 트랜잭션을 통해 누구나 블록체인과 상호 작용할 수 있습니다. 거래 수수료를 통해 네트워크 서비스 비용을 지불하기 위해 사용자에게 토큰이 필요하지 않습니다. 이것은 트랜잭션 발신자와 가스 지불자를 분리하여 수행됩니다.

새로운 사용자를 온보딩하고 현재 사용자를 도울 수 있는 솔루션입니다.

트랜잭션 실행자는 발신자 역할을 합니다. 가스를 소비하는 대신 프라이빗 키로 의도한 작업(트랜잭션 매개변수)에 서명하여 트랜잭션 요청을 생성합니다. 메타 트랜잭션은 메타 트랜잭션을 만들기 위한 추가 매개변수를 포함하는 일반 이더리움 트랜잭션입니다.

서명된 트랜잭션 매개변수는 중계기 역할을 하는 보조 네트워크로 전달됩니다. 이를 위한 다양한 방식이 있지만, 중계자는 일반적으로 트랜잭션을 검증하여 제출할 가치가 있는 트랜잭션을 선택합니다(예: dApp과 관련됨). 검증 시 중계자는 요청(서명된 메시지)을 실제 거래(가스 수수료 지불을 의미)로 래핑하고 네트워크에 배포합니다. 여기서 컨트랙트는 유저를 대신하여 원본 서명을 확인하여 거래를 래핑 해제하고 실행합니다.

:::참고  메타와 배치라는 단어는 몇몇 사람들에게는 유사할 수 있습니다.

명확히 하자면, 메타 트랜잭션은 배치 트랜잭션과 다릅니다. 여기서 배치(일괄) 트랜잭션은 한 번에 여러 트랜잭션을 보낼 수 있고 단일 발신자(단일 nonce 지정)에서 순서대로 실행되는 트랜잭션입니다.

:::

요약하면 메타 트랜잭션은 다음과 같은 디자인 패턴입니다:

* 사용자(발신자)는 프라이빗 키로 요청에 서명하고 이를 중계자에게 보냅니다.
* 중계자는 요청을 트랜잭션으로 래핑하여 컨트랙트로 보냅니다.
* 컨트랙트는 tx(트랜잭션)을 풀고 실행합니다

네이티브 트랜잭션은 "발신자"가 "지불자"이기도 함을 의미합니다. "지불자"를 "발신자"로부터 떼어 놓을 때 "발신자"는 더 "의도자"처럼 됩니다 - 발신자는 완전히 구성된 트랜잭션이 아니라 메시지와 관련된 특정 매개변수를 포함하는 메시지에 서명하여 블록체인에서 실행되기를 원하는 트랜잭션에 대한 의도를 보여줍니다.

## 사례

dApp 확장 및 스마트 컨트랙트와의 상호 작용을 위한 메타 트랜잭션의 기능을 상상할 수 있습니다. 사용자는 가스무료 트랜잭션을 생성할 수 있을 뿐만 아니라 여러 번 수행할 수 있으며 자동화 도구를 사용하면 메타 트랜잭션이 실제 사용 사례의 다음 애플리케이션에 영향을 미칠 수 있습니다. 메타 트랜잭션은 스마트 컨트랙트 로직에서 실제 유틸리티를 가능하게 하며, 이는 종종 가스 수수료와 체인에 필요한 상호 작용으로 인해 제한됩니다.

### 투표가 있는 사례

사용자는 온체인 거버넌스에 참여하기를 원하며 투표 컨트랙트를 통해 특정 결과에 투표하려고 합니다. 사용자는 이 특정 컨트랙트의 투표에서 사용자의 결정을 나타내는 메시지에 서명합니다. 전통적으로 그들은 컨트랙트와 상호 작용하기 위해 가스 요금을 지불해야 했지만(컨트랙트와 상호 작용하는 방법을 알고 있음), 대신 투표에 필요한 정보로 메타 트랜잭션(오프체인)에 서명하고 그들을 대신하여 트랜잭션을 실행할 중계자에게 전달할 수 있습니다.

서명된 메시지는 중계자에게 전송됩니다(투표 정보에 대한 서명된 tx 매개변수). 중계자는 이 거래가 우선 순위 투표인지 확인하고 투표 요청을 실제 거래로 래핑하고 가스 요금을 지불하고 투표 컨트랙트에 배포합니다. 모든 것은 투표 컨트랙트의 끝에서 확인하고 투표는 사용자를 대신하여 실행됩니다.

## 사용해보기

dApp에 메타 트랜잭션을 통합하기 위해 취할 수 있는 다양한 접근 방식에 익숙하다고 가정하고, 메타 트랜잭션으로 마이그레이션하는지 아니면 이를 사용하여 새로운 dApp을 구축하는지에 따라 다릅니다.

dApp을 폴리곤의 메타 트랜잭션과 통합하려면 다음 중계자 중 하나를 선택하거나 맞춤형 솔루션을 가동할 수 있습니다:

* [Biconomy](https://docs.biconomy.io/products/enable-gasless-transactions)
* [Gas Station Network (GSN)](https://docs.opengsn.org/#ethereum-gas-station-network-gsn)
* [Infura](https://infura.io/product/ethereum/transactions-itx)
* [Gelato](https://docs.gelato.network/developer-products/gelato-relay-sdk)
